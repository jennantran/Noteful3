(this.webpackJsonpnoteful=this.webpackJsonpnoteful||[]).push([[0],{27:function(e,t,n){e.exports=n(42)},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(22),c=n.n(r),l=(n(32),n(18)),i=n(19),s=n(2),u=n(3),d=n(5),m=n(4),f=n(10),h=(n(33),n(8)),p=(n(34),o.a.createContext({notes:[],folders:[],addFolder:function(){},addNote:function(){},deleteNote:function(){}})),v=n(25),N=n(26);n(35);function b(e){e.tag,e.className,e.children;var t=Object(N.a)(e,["tag","className","children"]);return o.a.createElement(e.tag,Object(v.a)({className:["Button",e.className].join(" ")},t),e.children)}b.defaultProps={tag:"a"};var j=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.context,t=e.folders,n=void 0===t?[]:t,a=e.notes,r=void 0===a?[]:a;return o.a.createElement("div",{className:"NoteListNav"},o.a.createElement("ul",{className:"NoteList"},n.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(h.c,{className:"NavFoldersLink",to:"/folder/".concat(e.id)},o.a.createElement("span",{className:"NoteListNav__num-notes"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e){return e.folderId===t})).length}(r,e.id)),e.name))}))),o.a.createElement("div",{className:"NoteListNavAddButton"},o.a.createElement(b,{tag:h.b,className:"addFolderButton",to:"/AddFolder",type:"button"},"Add Folder")))}}]),n}(o.a.Component);j.contextType=p;var E=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.context,n=t.notes,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find((function(e){return e.id===t}))}(t.folders,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find((function(e){return e.id===t}))}(n,this.props.match.params.noteId)||{}).folderId);return o.a.createElement("div",{className:"NotePageNav"},o.a.createElement("button",{className:"backButton",onClick:function(){return e.props.history.goBack()}},"Back"),a&&o.a.createElement("h3",{className:"folderName"},a.name))}}]),n}(o.a.Component);E.defaultProps={history:{goBack:function(){}},match:{params:{}}},E.contextType=p;var y=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleDelete=function(t){t.preventDefault();var n=e.props.id;fetch("".concat("http://localhost:9090/notes/","/").concat(n),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(){e.context.deleteNote(n)})).catch((function(e){console.error({error:e})}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.id;return o.a.createElement("div",{className:"note"},o.a.createElement("h2",{className:"noteTitle"},o.a.createElement(h.b,{to:"/note/".concat(n)},t)),o.a.createElement("button",{className:"noteDelete",type:"button",onClick:this.handleDelete},"Delete"))}}]),n}(o.a.Component);y.contextType=p;n(41);var g=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.match.params.folder_id,t=this.context.notes,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t?e.filter((function(e){return e.folderId===t})):e}(void 0===t?[]:t,e);return o.a.createElement("section",{className:"NoteListMain"},o.a.createElement("ul",null,n.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(y,{id:e.id,name:e.name}))}))),o.a.createElement("div",{className:"NoteListNavAddButton"},o.a.createElement(b,{className:"addNoteButton",to:"/AddNote",type:"button",tag:h.b},"Add Notes")))}}]),n}(o.a.Component);g.defaultProps={match:{params:{}}},g.contextType=p;var O=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={name:{value:""}},a}return Object(u.a)(n,[{key:"updateName",value:function(e){console.log({name:e}),this.setState({name:{value:e}})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n={name:this.state.name.value};fetch("http://localhost:9090/folders",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){t.context.addFolder(e),t.props.history.push("/")})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("form",{className:"AddFolderForm",onSubmit:function(t){return e.handleSubmit(t)}},o.a.createElement("label",null,"Name"),o.a.createElement("input",{type:"text",name:"name",id:"name",placeholder:"name",onChange:function(t){return e.updateName(t.target.value)}}),o.a.createElement("input",{type:"submit"}))}}]),n}(a.Component);O.contextType=p;var k=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).updateFolder=function(e){console.log("update folder"),a.setState({folder_id:e.target.value})},a.state={name:{value:"",content:""}},a}return Object(u.a)(n,[{key:"updateName",value:function(e){console.log({name:e}),this.setState({name:{value:e}})}},{key:"updateContent",value:function(e){console.log({content:e}),this.setState({content:{value:e}})}},{key:"handleSubmit",value:function(e){var t=this;console.log("handlesubmit"),e.preventDefault();var n={name:this.state.name.value,content:this.state.name.content};fetch("http://localhost:9090/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){t.props.history.push("/")}))}},{key:"render",value:function(){var e=this,t=this.context.folders.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.name)}));return o.a.createElement("form",{className:"AddNoteForm",onSubmit:function(t){return e.handleSubmit(t)}},o.a.createElement("label",null,"Name"),o.a.createElement("input",{type:"text",id:"name",placeholder:"name",onChange:function(t){return e.updateName(t.target.value)}}),o.a.createElement("label",null,"Content"),o.a.createElement("input",{type:"text",name:"content",id:"content",onChange:function(t){return e.updateContent(t.target.value)}}),o.a.createElement("label",null,"Folder:"),o.a.createElement("select",{className:"folderId",onChange:function(t){return e.updateFolder(t.target.value)}},t),o.a.createElement("input",{type:"submit"}))}}]),n}(a.Component);k.contextType=p;var x=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={notes:[],folders:[],addFolder:e.addFolder,addNote:e.addNote},e.handleDeleteNote=function(t){e.setState({notes:e.state.notes.filter((function(e){return e.id!==t}))})},e.addFolder=function(t){e.setState({folders:[].concat(Object(i.a)(e.state.folders),[t])})},e.addNote=function(t,n,a){e.setState({notes:[].concat(Object(i.a)(e.state.notes),[t,n,a])})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t="http://localhost:9090";console.log(t+"/notes"),console.log(t+"/folders"),Promise.all([fetch(t+"/notes"),fetch(t+"/folders")]).then((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return n.ok?a.ok?Promise.all([n.json(),a.json()]):a.json().then((function(e){return Promise.reject(e)})):n.json().then((function(e){return Promise.reject(e)}))})).then((function(t){var n=Object(l.a)(t,2),a=n[0],o=n[1];e.setState({notes:a,folders:o})})).catch((function(e){console.error({error:e})}))}},{key:"render",value:function(){var e={notes:this.state.notes,folders:this.state.folders,deleteNote:this.handleDeleteNote,addFolder:this.addFolder,addNote:this.addNote};return o.a.createElement(p.Provider,{value:e},o.a.createElement("div",{className:"App"},o.a.createElement("nav",{className:"navigation"},o.a.createElement(f.a,{exact:!0,path:"/",component:j}),o.a.createElement(f.a,{path:"/folder/:folder_id",component:j}),o.a.createElement(f.a,{path:"/notes/:note_id",component:E}),o.a.createElement(f.a,{path:"/AddFolder",component:O})),o.a.createElement("header",{className:"appHeader"},o.a.createElement("h1",null,"Noteful")),o.a.createElement("main",{className:"appMain"},o.a.createElement(f.a,{exact:!0,path:"/",component:g}),o.a.createElement(f.a,{path:"/folder/:folder_id",component:g}),o.a.createElement(f.a,{path:"/AddNote",component:k}))))}}]),n}(a.Component);c.a.render(o.a.createElement(h.a,null,o.a.createElement(x,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.1d567144.chunk.js.map